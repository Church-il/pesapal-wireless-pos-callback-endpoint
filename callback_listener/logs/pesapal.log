2025-08-10 15:05:09,532 INFO Transaction received from 192.168.0.13: {'id': 301118, 'first_name': 'Florence', 'last_name': 'Sadu', 'phone': '+87612885678', 'amount': 110.0, 'payment_option': 'Visa', 'transaction_date': '2022-02-04T14:19:05.0210431Z', 'currency': 'KES', 'merchant_reference': 'ibif', 'confirmation_code': 'ibucbQO2'}
2025-08-10 15:05:11,270 ERROR Error saving transaction to DB
Traceback (most recent call last):
  File "C:\Users\MichaelAkoko\OneDrive - pesapal.com\Documents\Michael-Akoko-Projects\pesapal-wireless-pos-callback-endpoint\callback_listener\app.py", line 79, in pesapal_callback
    save_transaction_to_db(data)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\MichaelAkoko\OneDrive - pesapal.com\Documents\Michael-Akoko-Projects\pesapal-wireless-pos-callback-endpoint\callback_listener\db.py", line 29, in save_transaction_to_db
    conn = get_connection()
  File "C:\Users\MichaelAkoko\OneDrive - pesapal.com\Documents\Michael-Akoko-Projects\pesapal-wireless-pos-callback-endpoint\callback_listener\db.py", line 18, in get_connection
    return pyodbc.connect(
           ~~~~~~~~~~~~~~^
        f"DRIVER={{{DB_CONFIG['driver']}}};"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        "TrustServerCertificate=yes;"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-08-10 15:05:11,272 INFO 192.168.0.13 - - [10/Aug/2025 15:05:11] "[35m[1mPOST /pesapal-callback HTTP/1.1[0m" 500 -
2025-08-10 15:07:53,533 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:15000
 * Running on https://192.168.0.13:15000
2025-08-10 15:07:53,533 INFO [33mPress CTRL+C to quit[0m
2025-08-10 15:08:06,306 INFO Transaction received from 192.168.0.13: {'id': 301118, 'first_name': 'Florence', 'last_name': 'Sadu', 'phone': '+87612885678', 'amount': 110.0, 'payment_option': 'Visa', 'transaction_date': '2022-02-04T14:19:05.0210431Z', 'currency': 'KES', 'merchant_reference': 'ibif', 'confirmation_code': 'ibucbQO2'}
2025-08-10 15:08:10,926 INFO Transaction saved successfully.
2025-08-10 15:08:10,927 INFO 192.168.0.13 - - [10/Aug/2025 15:08:10] "POST /pesapal-callback HTTP/1.1" 200 -
2025-08-10 15:42:11,755 INFO Transaction received from 192.168.0.13: {'id': 998618, 'first_name': 'Angela', 'last_name': 'Winfrey', 'phone': '+87687685678', 'amount': 1000.0, 'payment_option': 'Visa', 'transaction_date': '2022-02-04T14:19:05.0210431Z', 'currency': 'KES', 'merchant_reference': 'sxg6ty', 'confirmation_code': 'JHIF9R8JD'}
2025-08-10 15:42:14,786 INFO Transaction saved successfully.
2025-08-10 15:42:14,786 INFO 192.168.0.13 - - [10/Aug/2025 15:42:14] "POST /pesapal-callback HTTP/1.1" 200 -
2025-08-10 15:46:28,806 INFO Transaction received from 192.168.0.13: {'id': 668618, 'first_name': 'Christine', 'last_name': 'Emilly', 'phone': '+87687685678', 'amount': 1000.0, 'payment_option': 'Visa', 'transaction_date': '2022-02-04T14:19:05.0210431Z', 'currency': 'KES', 'merchant_reference': 'sxg6ty', 'confirmation_code': 'JHIF9R8JD'}
2025-08-10 15:46:32,033 INFO Transaction saved successfully.
2025-08-10 15:46:32,034 INFO 192.168.0.13 - - [10/Aug/2025 15:46:32] "POST /pesapal-callback HTTP/1.1" 200 -
2025-08-10 15:51:40,726 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:15000
 * Running on https://192.168.0.13:15000
2025-08-10 15:51:40,727 INFO [33mPress CTRL+C to quit[0m
2025-08-10 15:52:27,062 INFO Transaction received from 192.168.0.13: {'id': 660618, 'first_name': 'Jeremiah', 'last_name': 'Jack', 'phone': '+87680085678', 'amount': 1200.0, 'payment_option': 'Visa', 'transaction_date': '2022-02-04T14:19:05.0210431Z', 'currency': 'KES', 'merchant_reference': 'ijnidu4', 'confirmation_code': '9U9RJRIE'}
2025-08-10 15:52:31,718 INFO Transaction saved successfully.
2025-08-10 15:52:31,718 INFO 192.168.0.13 - - [10/Aug/2025 15:52:31] "POST /pesapal-callback HTTP/1.1" 200 -
2025-08-10 16:03:40,394 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on https://127.0.0.1:15000
 * Running on https://192.168.0.13:15000
2025-08-10 16:03:40,398 INFO [33mPress CTRL+C to quit[0m
2025-08-10 16:04:30,769 INFO Transaction received from 192.168.0.13: {'id': 693618, 'first_name': 'Jeremiah', 'last_name': 'Johnson', 'phone': '+54637085678', 'amount': 1200.0, 'payment_option': 'Visa', 'transaction_date': '2022-02-04T14:19:05.0210431Z', 'currency': 'KES', 'merchant_reference': 'sax75r', 'confirmation_code': 'AS994JRYU'}
2025-08-10 16:04:35,561 INFO Transaction saved successfully.
2025-08-10 16:04:35,564 INFO 192.168.0.13 - - [10/Aug/2025 16:04:35] "POST /pesapal-callback HTTP/1.1" 200 -
